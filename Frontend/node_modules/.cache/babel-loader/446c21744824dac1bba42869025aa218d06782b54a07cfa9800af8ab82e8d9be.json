{"ast":null,"code":"import _objectSpread from\"C:/exe/noxtm/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./CategoryManager.css';import api from'../config/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryManager(_ref){let{onClose}=_ref;const[categories,setCategories]=useState([]);const[newCategory,setNewCategory]=useState({name:'',description:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');useEffect(()=>{loadCategories();},[]);const loadCategories=async()=>{try{setLoading(true);const response=await api.get('/categories');setCategories(response.data);}catch(error){console.error('Failed to load categories:',error);setError('Failed to load categories');}finally{setLoading(false);}};const handleCreateCategory=async e=>{e.preventDefault();if(!newCategory.name.trim()){setError('Category name is required');return;}try{setLoading(true);await api.post('/categories',{name:newCategory.name.trim(),description:newCategory.description.trim()});setNewCategory({name:'',description:''});setError('');loadCategories();}catch(error){var _error$response,_error$response$data;console.error('Failed to create category:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to create category');}finally{setLoading(false);}};const generateSlug=name=>{return name.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-|-$/g,'');};return/*#__PURE__*/_jsx(\"div\",{className:\"category-manager\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"category-manager-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Category Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-close\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category-form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Category\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateCategory,className:\"category-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categoryName\",children:\"Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"categoryName\",value:newCategory.name,onChange:e=>setNewCategory(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),placeholder:\"Enter category name\",required:true}),newCategory.name&&/*#__PURE__*/_jsxs(\"div\",{className:\"slug-preview\",children:[\"Slug: \",/*#__PURE__*/_jsxs(\"code\",{children:[\"/blog/category/\",generateSlug(newCategory.name)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categoryDescription\",children:\"Description (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"categoryDescription\",value:newCategory.description,onChange:e=>setNewCategory(prev=>_objectSpread(_objectSpread({},prev),{},{description:e.target.value})),placeholder:\"Brief description of this category\",rows:3})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Creating...':'Create Category'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"categories-list-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Existing Categories\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading categories...\"}):categories.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No categories created yet.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"categories-grid\",children:categories.map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"category-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"category-name\",children:category.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"category-slug\",children:[\"Slug: \",category.slug]}),category.description&&/*#__PURE__*/_jsx(\"p\",{className:\"category-description\",children:category.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-meta\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"category-date\",children:[\"Created: \",new Date(category.createdAt).toLocaleDateString()]})})]},category._id))})]})]})});}export default CategoryManager;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","CategoryManager","_ref","onClose","categories","setCategories","newCategory","setNewCategory","name","description","loading","setLoading","error","setError","loadCategories","response","get","data","console","handleCreateCategory","e","preventDefault","trim","post","_error$response","_error$response$data","message","generateSlug","toLowerCase","replace","className","children","onClick","onSubmit","htmlFor","type","id","value","onChange","prev","_objectSpread","target","placeholder","required","rows","disabled","length","map","category","slug","Date","createdAt","toLocaleDateString","_id"],"sources":["C:/exe/noxtm/Frontend/src/components/CategoryManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './CategoryManager.css';\r\nimport api from '../config/api';\r\n\r\nfunction CategoryManager({ onClose }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategory, setNewCategory] = useState({ name: '', description: '' });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/categories');\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to load categories:', error);\r\n      setError('Failed to load categories');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateCategory = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newCategory.name.trim()) {\r\n      setError('Category name is required');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await api.post('/categories', {\r\n        name: newCategory.name.trim(),\r\n        description: newCategory.description.trim()\r\n      });\r\n      \r\n      setNewCategory({ name: '', description: '' });\r\n      setError('');\r\n      loadCategories();\r\n    } catch (error) {\r\n      console.error('Failed to create category:', error);\r\n      setError(error.response?.data?.message || 'Failed to create category');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generateSlug = (name) => {\r\n    return name.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');\r\n  };\r\n\r\n  return (\r\n    <div className=\"category-manager\">\r\n      <div className=\"category-manager-content\">\r\n        <div className=\"category-header\">\r\n          <h2>Category Management</h2>\r\n          <button className=\"btn-close\" onClick={onClose}>Ã—</button>\r\n        </div>\r\n\r\n        <div className=\"category-form-section\">\r\n          <h3>Create New Category</h3>\r\n          <form onSubmit={handleCreateCategory} className=\"category-form\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"categoryName\">Category Name</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"categoryName\"\r\n                value={newCategory.name}\r\n                onChange={(e) => setNewCategory(prev => ({ ...prev, name: e.target.value }))}\r\n                placeholder=\"Enter category name\"\r\n                required\r\n              />\r\n              {newCategory.name && (\r\n                <div className=\"slug-preview\">\r\n                  Slug: <code>/blog/category/{generateSlug(newCategory.name)}</code>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"categoryDescription\">Description (Optional)</label>\r\n              <textarea\r\n                id=\"categoryDescription\"\r\n                value={newCategory.description}\r\n                onChange={(e) => setNewCategory(prev => ({ ...prev, description: e.target.value }))}\r\n                placeholder=\"Brief description of this category\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\r\n              {loading ? 'Creating...' : 'Create Category'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"categories-list-section\">\r\n          <h3>Existing Categories</h3>\r\n          \r\n          {loading ? (\r\n            <div className=\"loading\">Loading categories...</div>\r\n          ) : categories.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <p>No categories created yet.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"categories-grid\">\r\n              {categories.map(category => (\r\n                <div key={category._id} className=\"category-card\">\r\n                  <div className=\"category-info\">\r\n                    <h4 className=\"category-name\">{category.name}</h4>\r\n                    <p className=\"category-slug\">Slug: {category.slug}</p>\r\n                    {category.description && (\r\n                      <p className=\"category-description\">{category.description}</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"category-meta\">\r\n                    <span className=\"category-date\">\r\n                      Created: {new Date(category.createdAt).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}