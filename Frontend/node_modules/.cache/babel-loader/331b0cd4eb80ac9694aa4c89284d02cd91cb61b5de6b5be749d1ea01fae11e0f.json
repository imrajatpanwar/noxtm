{"ast":null,"code":"import _objectSpread from\"/Users/aaravpanwar/noxtmstudio/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{CiSearch}from'react-icons/ci';import{FiEdit3,FiEye,FiTrash2}from'react-icons/fi';import{toast}from'sonner';import api from'../config/api';import{useRole,MODULES,DEFAULT_PERMISSIONS}from'../contexts/RoleContext';import'./UsersRoles.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UsersRoles(){const{users:contextUsers,setUsers:setContextUsers,updateUserRole,currentUser}=useRole();const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[selectedUser,setSelectedUser]=useState(null);const[showSidePanel,setShowSidePanel]=useState(false);const[availableRoles,setAvailableRoles]=useState([]);const[openMenuId,setOpenMenuId]=useState(null);// Check if current user is admin\nconst isCurrentUserAdmin=(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='Admin';// Debug logging\nconsole.log('Current user from context:',currentUser);console.log('Is current user admin:',isCurrentUserAdmin);// Fallback: Check localStorage if context user is not available\nconst localStorageUser=JSON.parse(localStorage.getItem('user')||'{}');const isAdminFromLocalStorage=(localStorageUser===null||localStorageUser===void 0?void 0:localStorageUser.role)==='Admin';console.log('User from localStorage:',localStorageUser);console.log('Is admin from localStorage:',isAdminFromLocalStorage);// Use either context user or localStorage user for admin check\nconst finalIsAdmin=isCurrentUserAdmin||isAdminFromLocalStorage;// Fetch available roles from backend\nconst fetchRoles=useCallback(async()=>{try{const token=localStorage.getItem('token');if(!token){// Fallback to hardcoded roles if no token\nconst fallbackRoles=['User','Admin','Project Manager','Data Miner','Data Analyst','Social Media Manager','Human Resource','Graphic Designer','Web Developer','SEO Manager'];setAvailableRoles(fallbackRoles);return;}const response=await api.get('/roles');console.log('Fetched roles from backend:',response.data.roles);setAvailableRoles(response.data.roles||[]);}catch(error){console.error('Error fetching roles:',error);// Fallback to hardcoded roles on error\nconst fallbackRoles=['User','Admin','Project Manager','Data Miner','Data Analyst','Social Media Manager','Human Resource','Graphic Designer','Web Developer','SEO Manager'];setAvailableRoles(fallbackRoles);}},[]);// Fetch users from backend\n// Function to update a specific user's access in the main users list\nconst updateUserAccessInList=useCallback((userId,module,value)=>{setUsers(prevUsers=>{return prevUsers.map(user=>{if(user.id===userId){const updatedUser=_objectSpread({},user);if(!updatedUser.customAccess){updatedUser.customAccess=[];}if(value){// Add permission if not already present\nconst moduleDisplayName=getModuleDisplayName(module);if(!updatedUser.customAccess.includes(moduleDisplayName)){updatedUser.customAccess.push(moduleDisplayName);}}else{// Remove permission\nconst moduleDisplayName=getModuleDisplayName(module);updatedUser.customAccess=updatedUser.customAccess.filter(access=>access!==moduleDisplayName);}return updatedUser;}return user;});});},[]);const fetchUsers=useCallback(async()=>{try{setLoading(true);const token=localStorage.getItem('token');if(!token){// Use demo data if no token\nconsole.log('No token found, using demo data');const demoUsers=JSON.parse(localStorage.getItem('usersData')||'[]');if(demoUsers.length>0){setUsers(demoUsers);}setLoading(false);return;}const response=await api.get('/users');// Transform backend data to match frontend format\nconst transformedUsers=response.data.users.map(user=>({id:user._id,name:user.username,email:user.email,role:user.role,status:user.status,access:user.access||[]}));setUsers(transformedUsers);setContextUsers(transformedUsers);// Update context as well\nsetError(null);}catch(error){console.error('Error fetching users:',error);// Fall back to demo data on error\nconst demoUsers=JSON.parse(localStorage.getItem('usersData')||'[]');if(demoUsers.length>0){setUsers(demoUsers);setError(null);// Clear error if we have demo data\nconsole.log('Using demo data due to API error');}else{var _error$response,_error$response$data;setError('Failed to fetch users: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}}finally{setLoading(false);}},[setContextUsers]);// Update user role\nconst handleRoleChange=async(userId,newRole)=>{console.log('handleRoleChange called:',{userId,newRole,finalIsAdmin});// Check if current user is admin\nif(!finalIsAdmin){toast.error('Only administrators can change user roles');return;}try{setError(null);// Clear any previous errors\n// Set status based on role: User = \"In Review\", any other role = \"Active\"\nconst newStatus=newRole==='User'?'In Review':'Active';console.log('Setting new status:',newStatus);const result=await updateUserRole(userId,newRole,newStatus);console.log('updateUserRole result:',result);if(result.success){// Update local state immediately for UI responsiveness\nsetUsers(users.map(user=>user.id===userId?_objectSpread(_objectSpread({},user),{},{role:newRole,status:newStatus}):user));toast.success(\"User role updated to \".concat(newRole,\" and status set to \").concat(newStatus));}else{setError(\"Failed to update user role: \".concat(result.error));toast.error(\"Failed to update user role: \".concat(result.error));}}catch(error){console.error('Error updating user role:',error);setError('Failed to update user role: '+error.message);toast.error('Failed to update user role: '+error.message);}};// Toggle menu visibility\nconst toggleMenu=userId=>{setOpenMenuId(openMenuId===userId?null:userId);};// Close menu when clicking outside\nconst closeMenu=()=>{setOpenMenuId(null);};// Handle menu actions\nconst handleMenuAction=async(userId,action)=>{// Close menu\nsetOpenMenuId(null);try{setError(null);// Clear any previous errors\nif(action==='edit'){// Check if current user is admin for edit action\nif(!finalIsAdmin){toast.error('Only administrators can edit user profiles');return;}// Open edit panel or navigate to edit page\nsetSelectedUser(users.find(user=>user.id===userId));setShowSidePanel(true);toast.info('Edit user panel opened');}else if(action==='view'){// View profile - no admin check needed\nsetSelectedUser(users.find(user=>user.id===userId));setShowSidePanel(true);toast.info('Viewing user profile');}else if(action==='delete'){// Check if current user is admin for delete action\nif(!finalIsAdmin){toast.error('Only administrators can delete users');return;}// Confirm deletion\nif(window.confirm('Are you sure you want to delete this user? This action cannot be undone.')){const response=await api.delete(\"/users/\".concat(userId));if(response.status===200){// Remove user from local state\nsetUsers(users.filter(user=>user.id!==userId));toast.success('User deleted successfully');}}}}catch(error){console.error('Error performing user action:',error);setError('Failed to perform action: '+error.message);toast.error('Failed to perform action: '+error.message);}};// Load users and roles on component mount\nuseEffect(()=>{// Fetch roles first\nfetchRoles();// Initialize demo data if needed\nconst demoUsers=JSON.parse(localStorage.getItem('usersData')||'[]');if(demoUsers.length===0){// Import and initialize demo data\nimport('../data/demoUsers').then(_ref=>{let{initializeDemoData}=_ref;initializeDemoData();// Try to fetch users after initialization\nfetchUsers();});}else{// Try to fetch from API first, fall back to demo data\nfetchUsers();}},[fetchUsers,fetchRoles]);// Close menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(openMenuId&&!event.target.closest('.user-actions')){closeMenu();}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[openMenuId]);// Sync with context users when they change\nuseEffect(()=>{if(contextUsers&&contextUsers.length>0){setUsers(contextUsers);setLoading(false);}},[contextUsers]);// Fallback: Load users from localStorage if available\nuseEffect(()=>{const storedUsers=JSON.parse(localStorage.getItem('usersData')||'[]');if(storedUsers.length>0&&users.length===0&&!loading){setUsers(storedUsers);setLoading(false);}},[users.length,loading]);const handleAccessAdd=userId=>{// This would typically open a modal or dropdown to add access\nconsole.log('Add access for user:',userId);};// Handle user details click\nconst handleUserClick=user=>{setSelectedUser(user);setShowSidePanel(true);};// Handle side panel close\nconst handleCloseSidePanel=()=>{setShowSidePanel(false);setTimeout(()=>setSelectedUser(null),300);// Delay clearing user to allow animation\n};// Function to get all access permissions for a user (role-based + custom)\n// eslint-disable-next-line no-unused-vars\nconst getRoleBasedAccessOnly=user=>{if(user.access&&user.access.length>0){return user.access;}return[];};// Function to get all access permissions for a user (role-based + custom)\nconst getAllUserAccess=user=>{const allAccess=[];// Add role-based access\nif(user.access&&user.access.length>0){allAccess.push(...user.access);}// Add custom access (if different from role-based)\nif(user.customAccess&&user.customAccess.length>0){user.customAccess.forEach(customAccess=>{if(!allAccess.includes(customAccess)){allAccess.push(customAccess);}});}return allAccess;};const getAccessColor=access=>{const colors={'Data Cluster':'#8B5CF6','Data Center':'#8B5CF6','Projects':'#10B981','Finance Management':'#EF4444','Digital Media Management':'#3B82F6','Team Communication':'#F97316','Marketing':'#F59E0B','HR Management':'#EC4899','SEO Management':'#06B6D4','Settings & Configuration':'#8B5A2B','Dashboard':'#6366F1','Internal Policies':'#A78BFA'};return colors[access]||'#6B7280';};const filteredUsers=users.filter(user=>user.name.toLowerCase().includes(searchTerm.toLowerCase())||user.email.toLowerCase().includes(searchTerm.toLowerCase())||user.role.toLowerCase().includes(searchTerm.toLowerCase()));if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"users-roles-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading users...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"users-roles-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"error-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchUsers,className:\"retry-btn\",children:\"Retry\"})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"users-roles-container\",children:[!finalIsAdmin&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#fef3c7',border:'1px solid #f59e0b',borderRadius:'0.5rem',padding:'1rem',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem'},children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 0.25rem 0',fontWeight:'600',color:'#92400e'},children:\"Limited Access\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontSize:'0.9rem',color:'#92400e'},children:\"You can view user information but cannot modify roles. Only administrators can change user roles and permissions.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"users-roles-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users & Roles Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage user accounts, roles, and permissions across your organization.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-header-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-count\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"count-label\",children:\"All users\"}),/*#__PURE__*/_jsx(\"span\",{className:\"count-number\",children:users.length})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-header-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(CiSearch,{className:\"search-icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"checkbox-column\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"select-all-checkbox\"})}),/*#__PURE__*/_jsx(\"th\",{children:\"User Details\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Access\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"actions-column\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(\"tr\",{className:user.status==='Inactive'?'inactive-user':'',children:[/*#__PURE__*/_jsx(\"td\",{className:\"checkbox-column\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"user-checkbox\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"user-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info clickable-user\",onClick:()=>handleUserClick(user),children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar-icon\",children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-text\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"user-email\",children:user.email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"user-access\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"access-tags\",children:[getAllUserAccess(user).map((access,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"access-tag\",style:{backgroundColor:getAccessColor(access)},children:access},index)),/*#__PURE__*/_jsx(\"button\",{className:\"add-access-btn\",onClick:()=>handleAccessAdd(user.id),children:\"+\"})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"user-role\",children:[/*#__PURE__*/_jsx(\"select\",{value:user.role,onChange:e=>handleRoleChange(user.id,e.target.value),className:\"role-select\",disabled:!finalIsAdmin,style:{opacity:finalIsAdmin?1:0.6,cursor:finalIsAdmin?'pointer':'not-allowed',backgroundColor:finalIsAdmin?'white':'#f3f4f6'},title:!finalIsAdmin?'Only administrators can change user roles':'',children:availableRoles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role==='User'?'User (Restricted Access)':role},role))}),!finalIsAdmin&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280',marginLeft:'0.5rem',fontStyle:'italic'},children:\"Admin only\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"user-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(user.status.toLowerCase().replace(' ','-')),style:{backgroundColor:user.status==='Active'?'#dcfce7':user.status==='Terminated'?'#fef2f2':user.status==='In Review'?'#fef3c7':'#f3f4f6',color:user.status==='Active'?'#166534':user.status==='Terminated'?'#dc2626':user.status==='In Review'?'#92400e':'#6b7280',border:user.status==='Active'?'1px solid #bbf7d0':user.status==='Terminated'?'1px solid #fecaca':user.status==='In Review'?'1px solid #fde68a':'1px solid #e5e7eb'},children:user.status==='Terminated'?'❌ Terminated':user.status==='Active'?'Active':user.status==='In Review'?'⏳ In Review':user.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"user-actions\",children:/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'inline-block'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleMenu(user.id),disabled:!finalIsAdmin,style:{background:'none',border:'none',cursor:finalIsAdmin?'pointer':'not-allowed',padding:'0.5rem',borderRadius:'0.375rem',opacity:finalIsAdmin?1:0.5,fontSize:'1.2rem',color:'#6b7280',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',width:'2rem',height:'2rem'},title:!finalIsAdmin?'Only administrators can perform actions':'User actions',children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'2px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'4px',height:'4px',backgroundColor:'#6b7280',borderRadius:'50%'}}),/*#__PURE__*/_jsx(\"div\",{style:{width:'4px',height:'4px',backgroundColor:'#6b7280',borderRadius:'50%'}}),/*#__PURE__*/_jsx(\"div\",{style:{width:'4px',height:'4px',backgroundColor:'#6b7280',borderRadius:'50%'}})]})}),openMenuId===user.id&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'100%',right:'0',backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'0.5rem',boxShadow:'0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',zIndex:1000,minWidth:'160px',padding:'0',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMenuAction(user.id,'edit'),style:{width:'100%',padding:'0.75rem 1rem',border:'none',background:'white',textAlign:'left',cursor:'pointer',fontSize:'0.875rem',color:'#374151',display:'flex',alignItems:'center',gap:'0.75rem',borderBottom:'1px solid #f3f4f6'},onMouseEnter:e=>e.target.style.backgroundColor='#f9fafb',onMouseLeave:e=>e.target.style.backgroundColor='white',children:[/*#__PURE__*/_jsx(FiEdit3,{size:16,color:\"#374151\"}),\"Edit Profile\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMenuAction(user.id,'view'),style:{width:'100%',padding:'0.75rem 1rem',border:'none',background:'#f3f4f6',textAlign:'left',cursor:'pointer',fontSize:'0.875rem',color:'#374151',display:'flex',alignItems:'center',gap:'0.75rem',borderBottom:'1px solid #e5e7eb'},onMouseEnter:e=>e.target.style.backgroundColor='#e5e7eb',onMouseLeave:e=>e.target.style.backgroundColor='#f3f4f6',children:[/*#__PURE__*/_jsx(FiEye,{size:16,color:\"#374151\"}),\"View Profile\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleMenuAction(user.id,'delete'),style:{width:'100%',padding:'0.75rem 1rem',border:'none',background:'#fef2f2',textAlign:'left',cursor:'pointer',fontSize:'0.875rem',color:'#dc2626',display:'flex',alignItems:'center',gap:'0.75rem'},onMouseEnter:e=>e.target.style.backgroundColor='#fee2e2',onMouseLeave:e=>e.target.style.backgroundColor='#fef2f2',children:[/*#__PURE__*/_jsx(FiTrash2,{size:16,color:\"#dc2626\"}),\"Delete Profile\"]})]})]})})]},user.id))})]})}),showSidePanel&&/*#__PURE__*/_jsx(UserDetailsSidePanel,{user:selectedUser,onClose:handleCloseSidePanel,isVisible:showSidePanel,onPermissionUpdate:updateUserAccessInList})]});}// User Details Side Panel Component\nfunction UserDetailsSidePanel(_ref2){let{user,onClose,isVisible,onPermissionUpdate}=_ref2;const{updateUserPermissions,getUserPermissions,currentUser}=useRole();const[userPermissions,setUserPermissions]=useState({});const[isAdmin,setIsAdmin]=useState(false);// Function to get access color for styling\nconst getAccessColor=access=>{const colors={'Data Cluster':'#8B5CF6','Data Center':'#8B5CF6','Projects':'#10B981','Finance Management':'#EF4444','Digital Media Management':'#3B82F6','Team Communication':'#F97316','Marketing':'#F59E0B','HR Management':'#EC4899','SEO Management':'#06B6D4','Settings & Configuration':'#8B5A2B','Dashboard':'#6366F1','Internal Policies':'#A78BFA'};return colors[access]||'#6B7280';};// Function to get role-based access for a user\nconst getRoleBasedAccess=role=>{const rolePermissions=DEFAULT_PERMISSIONS[role]||{};const moduleToDisplayName={[MODULES.DASHBOARD]:'Dashboard',[MODULES.DATA_CENTER]:'Data Center',[MODULES.PROJECTS]:'Projects',[MODULES.DIGITAL_MEDIA]:'Digital Media Management',[MODULES.TEAM_COMMUNICATION]:'Team Communication',[MODULES.MARKETING]:'Marketing',[MODULES.HR_MANAGEMENT]:'HR Management',[MODULES.FINANCE_MANAGEMENT]:'Finance Management',[MODULES.SEO_MANAGEMENT]:'SEO Management',[MODULES.INTERNAL_POLICIES]:'Internal Policies',[MODULES.SETTINGS_CONFIG]:'Settings & Configuration'};return Object.keys(rolePermissions).filter(module=>rolePermissions[module]).map(module=>moduleToDisplayName[module]||module);};useEffect(()=>{if(user){// Initialize permissions based on user's actual access\nlet permissions={};// Create a mapping from display names to module keys\nconst displayNameToModuleKey={'Dashboard':MODULES.DASHBOARD,'Data Center':MODULES.DATA_CENTER,'Data Cluster':MODULES.DATA_CENTER,'Projects':MODULES.PROJECTS,'Digital Media Management':MODULES.DIGITAL_MEDIA,'Team Communication':MODULES.TEAM_COMMUNICATION,'Marketing':MODULES.MARKETING,'HR Management':MODULES.HR_MANAGEMENT,'Finance Management':MODULES.FINANCE_MANAGEMENT,'SEO Management':MODULES.SEO_MANAGEMENT,'Internal Policies':MODULES.INTERNAL_POLICIES,'Settings & Configuration':MODULES.SETTINGS_CONFIG};if(user.customAccess&&user.customAccess.length>0){user.customAccess.forEach(access=>{const moduleKey=displayNameToModuleKey[access]||access;permissions[moduleKey]=true;});}else if(user.access&&user.access.length>0){// Use user.access array and map display names to module keys\nuser.access.forEach(access=>{const moduleKey=displayNameToModuleKey[access]||access;permissions[moduleKey]=true;});}else{// Fallback to backend permissions\npermissions=getUserPermissions(user.id);}setUserPermissions(permissions);console.log(\"User permissions loaded:\",permissions);console.log(\"Display name to module key mapping:\",displayNameToModuleKey);console.log(\"User access array:\",user.access);console.log(\"User access array mapped to permissions:\",Object.keys(permissions));console.log(\"User custom access:\",user.customAccess);const isCurrentUserAdmin=(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='Admin';setIsAdmin(isCurrentUserAdmin);console.log('Current user role:',currentUser===null||currentUser===void 0?void 0:currentUser.role);console.log('Is admin:',isCurrentUserAdmin);}},[user,getUserPermissions,currentUser]);if(!user)return null;// Mock additional user data - in real app this would come from API\nconst userDetails=_objectSpread(_objectSpread({},user),{},{currentProjects:5,totalProjects:21,joinDate:'10 - 04 - 2024',phone:'+91 9098989281',location:'Coffee Estate Homestay, Mullayanagiri Road, Kaimara, Chikmagalur, Karnataka - 577101, India',languages:['English','Hindi'],maritalStatus:'Single',employmentId:'0020192',responseTime:'24m'});const getModuleDisplayName=module=>{const displayNames={[MODULES.DASHBOARD]:'Dashboard',[MODULES.DATA_CENTER]:'Data Center',[MODULES.PROJECTS]:'Projects',[MODULES.DIGITAL_MEDIA]:'Digital Media Management',[MODULES.TEAM_COMMUNICATION]:'Team Communication',[MODULES.MARKETING]:'Marketing',[MODULES.HR_MANAGEMENT]:'HR Management',[MODULES.FINANCE_MANAGEMENT]:'Finance Management',[MODULES.SEO_MANAGEMENT]:'SEO Management',[MODULES.INTERNAL_POLICIES]:'Internal Policies',[MODULES.SETTINGS_CONFIG]:'Settings & Configuration'};return displayNames[module]||module;};const handlePermissionChange=async(module,value)=>{if(!isAdmin)return;// Update local state immediately for live UI updates\nconst updatedPermissions=_objectSpread(_objectSpread({},userPermissions),{},{[module]:value});setUserPermissions(updatedPermissions);try{const result=await updateUserPermissions(user.id,{[module]:value});if(result.success){// Update local state immediately for UI responsiveness\nconst updatedPermissions=_objectSpread(_objectSpread({},userPermissions),{},{[module]:value});setUserPermissions(updatedPermissions);toast.success(\"Permission \".concat(value?'granted':'revoked',\" for \").concat(getModuleDisplayName(module)));// Refresh the permissions to ensure UI is in sync with backend\nconst refreshedPermissions=getUserPermissions(user.id);setUserPermissions(refreshedPermissions);// Notify parent component to refresh users list\nif(onPermissionUpdate){onPermissionUpdate(user.id,module,value);}}else{console.error('Failed to update permissions:',result.error);toast.error(\"Failed to update permissions: \".concat(result.error));// Revert the checkbox state on error\nconst currentPermissions=getUserPermissions(user.id);setUserPermissions(currentPermissions);}}catch(error){console.error('Error updating permissions:',error);toast.error('Failed to update permissions: '+error.message);// Revert the checkbox state on error\nconst currentPermissions=getUserPermissions(user.id);setUserPermissions(currentPermissions);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"side-panel-overlay \".concat(isVisible?'visible':''),onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details-side-panel \".concat(isVisible?'visible':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"side-panel-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Preview\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"side-panel-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar-large\",children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar-icon-large\",children:\"\\uD83D\\uDC64\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info-text\",children:[/*#__PURE__*/_jsx(\"h2\",{children:userDetails.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-status-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-dot-green\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status-text\",children:\"Online\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"user-email-large\",children:userDetails.email})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Currently\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:userDetails.currentProjects})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Projects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:userDetails.totalProjects})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"User Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid-two-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Join Date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value blue-text\",children:userDetails.joinDate})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Phone No.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value blue-text\",children:userDetails.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Designation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.role})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Location\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.location})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Employment ID\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.employmentId})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Language Spoken\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.languages.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.status})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-left\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Marital Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.maritalStatus})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Response Time\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:userDetails.responseTime})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-access-section\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Role-Based Access\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"role-access-tags\",style:{display:'flex',flexWrap:'wrap',gap:'8px'},children:[getRoleBasedAccess(userDetails.role).map((access,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"access-tag\",style:{backgroundColor:getAccessColor(access),color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'12px',fontWeight:'500'},children:access},index)),getRoleBasedAccess(userDetails.role).length===0&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#9CA3AF',fontStyle:'italic'},children:\"No role-based access defined\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"permissions-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Permission \",isAdmin&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#6B7280',fontWeight:'normal'},children:\"(Click to modify)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"permissions-grid-two-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"permission-column\",children:Object.entries(MODULES).slice(0,Math.ceil(Object.entries(MODULES).length/2)).map(_ref3=>{let[key,module]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"permission-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:module,checked:userPermissions[module]||false,onChange:e=>handlePermissionChange(module,e.target.checked),disabled:!isAdmin,style:{cursor:isAdmin?'pointer':'default'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:module,style:{cursor:isAdmin?'pointer':'default'},children:getModuleDisplayName(module)})]},module);})}),/*#__PURE__*/_jsx(\"div\",{className:\"permission-column\",children:Object.entries(MODULES).slice(Math.ceil(Object.entries(MODULES).length/2)).map(_ref4=>{let[key,module]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"permission-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:module,checked:userPermissions[module]||false,onChange:e=>handlePermissionChange(module,e.target.checked),disabled:!isAdmin,style:{cursor:isAdmin?'pointer':'default'}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:module,style:{cursor:isAdmin?'pointer':'default'},children:getModuleDisplayName(module)})]},module);})})]}),!isAdmin&&/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#9CA3AF',marginTop:'12px',fontStyle:'italic'},children:\"Only administrators can modify permissions\"})]})]})]})]});}export default UsersRoles;","map":{"version":3,"names":["React","useState","useEffect","useCallback","CiSearch","FiEdit3","FiEye","FiTrash2","toast","api","useRole","MODULES","DEFAULT_PERMISSIONS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UsersRoles","users","contextUsers","setUsers","setContextUsers","updateUserRole","currentUser","loading","setLoading","error","setError","searchTerm","setSearchTerm","selectedUser","setSelectedUser","showSidePanel","setShowSidePanel","availableRoles","setAvailableRoles","openMenuId","setOpenMenuId","isCurrentUserAdmin","role","console","log","localStorageUser","JSON","parse","localStorage","getItem","isAdminFromLocalStorage","finalIsAdmin","fetchRoles","token","fallbackRoles","response","get","data","roles","updateUserAccessInList","userId","module","value","prevUsers","map","user","id","updatedUser","_objectSpread","customAccess","moduleDisplayName","getModuleDisplayName","includes","push","filter","access","fetchUsers","demoUsers","length","transformedUsers","_id","name","username","email","status","_error$response","_error$response$data","message","handleRoleChange","newRole","newStatus","result","success","concat","toggleMenu","closeMenu","handleMenuAction","action","find","info","window","confirm","delete","then","_ref","initializeDemoData","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","storedUsers","handleAccessAdd","handleUserClick","handleCloseSidePanel","setTimeout","getRoleBasedAccessOnly","getAllUserAccess","allAccess","forEach","getAccessColor","colors","filteredUsers","toLowerCase","className","children","onClick","style","backgroundColor","border","borderRadius","padding","marginBottom","display","alignItems","gap","fontSize","margin","fontWeight","color","type","placeholder","onChange","e","index","disabled","opacity","cursor","title","marginLeft","fontStyle","replace","position","background","flexDirection","justifyContent","width","height","top","right","boxShadow","zIndex","minWidth","overflow","textAlign","borderBottom","onMouseEnter","onMouseLeave","size","UserDetailsSidePanel","onClose","isVisible","onPermissionUpdate","_ref2","updateUserPermissions","getUserPermissions","userPermissions","setUserPermissions","isAdmin","setIsAdmin","getRoleBasedAccess","rolePermissions","moduleToDisplayName","DASHBOARD","DATA_CENTER","PROJECTS","DIGITAL_MEDIA","TEAM_COMMUNICATION","MARKETING","HR_MANAGEMENT","FINANCE_MANAGEMENT","SEO_MANAGEMENT","INTERNAL_POLICIES","SETTINGS_CONFIG","Object","keys","permissions","displayNameToModuleKey","moduleKey","userDetails","currentProjects","totalProjects","joinDate","phone","location","languages","maritalStatus","employmentId","responseTime","displayNames","handlePermissionChange","updatedPermissions","refreshedPermissions","currentPermissions","join","flexWrap","entries","slice","Math","ceil","_ref3","key","checked","htmlFor","_ref4","marginTop"],"sources":["/Users/aaravpanwar/noxtmstudio/Frontend/src/components/UsersRoles.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { CiSearch } from 'react-icons/ci';\nimport { FiEdit3, FiEye, FiTrash2 } from 'react-icons/fi';\nimport { toast } from 'sonner';\nimport api from '../config/api';\nimport { useRole, MODULES, DEFAULT_PERMISSIONS } from '../contexts/RoleContext';\nimport './UsersRoles.css';\n\nfunction UsersRoles() {\n  const { \n    users: contextUsers, \n    setUsers: setContextUsers, \n    updateUserRole,\n    currentUser\n  } = useRole();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [showSidePanel, setShowSidePanel] = useState(false);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Check if current user is admin\n  const isCurrentUserAdmin = currentUser?.role === 'Admin';\n  \n  // Debug logging\n  console.log('Current user from context:', currentUser);\n  console.log('Is current user admin:', isCurrentUserAdmin);\n  \n  // Fallback: Check localStorage if context user is not available\n  const localStorageUser = JSON.parse(localStorage.getItem('user') || '{}');\n  const isAdminFromLocalStorage = localStorageUser?.role === 'Admin';\n  console.log('User from localStorage:', localStorageUser);\n  console.log('Is admin from localStorage:', isAdminFromLocalStorage);\n  \n  // Use either context user or localStorage user for admin check\n  const finalIsAdmin = isCurrentUserAdmin || isAdminFromLocalStorage;\n\n  // Fetch available roles from backend\n  const fetchRoles = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        // Fallback to hardcoded roles if no token\n        const fallbackRoles = [\n          'User',\n          'Admin',\n          'Project Manager', \n          'Data Miner',\n          'Data Analyst',\n          'Social Media Manager',\n          'Human Resource',\n          'Graphic Designer',\n          'Web Developer',\n          'SEO Manager'\n        ];\n        setAvailableRoles(fallbackRoles);\n        return;\n      }\n\n      const response = await api.get('/roles');\n      console.log('Fetched roles from backend:', response.data.roles);\n      setAvailableRoles(response.data.roles || []);\n    } catch (error) {\n      console.error('Error fetching roles:', error);\n      // Fallback to hardcoded roles on error\n      const fallbackRoles = [\n        'User',\n    'Admin',\n    'Project Manager', \n    'Data Miner',\n    'Data Analyst',\n    'Social Media Manager',\n    'Human Resource',\n    'Graphic Designer',\n    'Web Developer',\n    'SEO Manager'\n  ];\n      setAvailableRoles(fallbackRoles);\n    }\n  }, []);\n\n  // Fetch users from backend\n  // Function to update a specific user's access in the main users list\n  const updateUserAccessInList = useCallback((userId, module, value) => {\n    setUsers(prevUsers => {\n      return prevUsers.map(user => {\n        if (user.id === userId) {\n          const updatedUser = { ...user };\n          if (!updatedUser.customAccess) {\n            updatedUser.customAccess = [];\n          }\n          \n          if (value) {\n            // Add permission if not already present\n            const moduleDisplayName = getModuleDisplayName(module);\n            if (!updatedUser.customAccess.includes(moduleDisplayName)) {\n              updatedUser.customAccess.push(moduleDisplayName);\n            }\n          } else {\n            // Remove permission\n            const moduleDisplayName = getModuleDisplayName(module);\n            updatedUser.customAccess = updatedUser.customAccess.filter(\n              access => access !== moduleDisplayName\n            );\n          }\n          return updatedUser;\n        }\n        return user;\n      });\n    });\n  }, []);\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        // Use demo data if no token\n        console.log('No token found, using demo data');\n        const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n        if (demoUsers.length > 0) {\n          setUsers(demoUsers);\n        }\n        setLoading(false);\n        return;\n      }\n\n      const response = await api.get('/users');\n\n      // Transform backend data to match frontend format\n      const transformedUsers = response.data.users.map(user => ({\n        id: user._id,\n        name: user.username,\n        email: user.email,\n        role: user.role,\n        status: user.status,\n        access: user.access || []\n      }));\n\n      setUsers(transformedUsers);\n      setContextUsers(transformedUsers); // Update context as well\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      // Fall back to demo data on error\n      const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n      if (demoUsers.length > 0) {\n        setUsers(demoUsers);\n        setError(null); // Clear error if we have demo data\n        console.log('Using demo data due to API error');\n      } else {\n        setError('Failed to fetch users: ' + (error.response?.data?.message || error.message));\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [setContextUsers]);\n\n  // Update user role\n  const handleRoleChange = async (userId, newRole) => {\n    console.log('handleRoleChange called:', { userId, newRole, finalIsAdmin });\n    \n    // Check if current user is admin\n    if (!finalIsAdmin) {\n      toast.error('Only administrators can change user roles');\n      return;\n    }\n\n    try {\n      setError(null); // Clear any previous errors\n      \n      // Set status based on role: User = \"In Review\", any other role = \"Active\"\n      const newStatus = newRole === 'User' ? 'In Review' : 'Active';\n      console.log('Setting new status:', newStatus);\n      \n      const result = await updateUserRole(userId, newRole, newStatus);\n      console.log('updateUserRole result:', result);\n      \n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        setUsers(users.map(user => \n          user.id === userId ? { \n            ...user, \n            role: newRole,\n            status: newStatus\n          } : user\n        ));\n        \n        toast.success(`User role updated to ${newRole} and status set to ${newStatus}`);\n      } else {\n        setError(`Failed to update user role: ${result.error}`);\n        toast.error(`Failed to update user role: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error updating user role:', error);\n      setError('Failed to update user role: ' + error.message);\n      toast.error('Failed to update user role: ' + error.message);\n    }\n  };\n\n\n  // Toggle menu visibility\n  const toggleMenu = (userId) => {\n    setOpenMenuId(openMenuId === userId ? null : userId);\n  };\n\n  // Close menu when clicking outside\n  const closeMenu = () => {\n    setOpenMenuId(null);\n  };\n\n  // Handle menu actions\n  const handleMenuAction = async (userId, action) => {\n    // Close menu\n    setOpenMenuId(null);\n\n    try {\n      setError(null); // Clear any previous errors\n      \n      if (action === 'edit') {\n        // Check if current user is admin for edit action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can edit user profiles');\n          return;\n        }\n        // Open edit panel or navigate to edit page\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Edit user panel opened');\n      } else if (action === 'view') {\n        // View profile - no admin check needed\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Viewing user profile');\n      } else if (action === 'delete') {\n        // Check if current user is admin for delete action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can delete users');\n          return;\n        }\n        // Confirm deletion\n        if (window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\n          const response = await api.delete(`/users/${userId}`);\n          if (response.status === 200) {\n            // Remove user from local state\n            setUsers(users.filter(user => user.id !== userId));\n            toast.success('User deleted successfully');\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error performing user action:', error);\n      setError('Failed to perform action: ' + error.message);\n      toast.error('Failed to perform action: ' + error.message);\n    }\n  };\n\n  // Load users and roles on component mount\n  useEffect(() => {\n    // Fetch roles first\n    fetchRoles();\n    \n    // Initialize demo data if needed\n    const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n    if (demoUsers.length === 0) {\n      // Import and initialize demo data\n      import('../data/demoUsers').then(({ initializeDemoData }) => {\n        initializeDemoData();\n        // Try to fetch users after initialization\n        fetchUsers();\n      });\n    } else {\n      // Try to fetch from API first, fall back to demo data\n      fetchUsers();\n    }\n  }, [fetchUsers, fetchRoles]);\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (openMenuId && !event.target.closest('.user-actions')) {\n        closeMenu();\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [openMenuId]);\n\n  // Sync with context users when they change\n  useEffect(() => {\n    if (contextUsers && contextUsers.length > 0) {\n      setUsers(contextUsers);\n      setLoading(false);\n    }\n  }, [contextUsers]);\n\n  // Fallback: Load users from localStorage if available\n  useEffect(() => {\n    const storedUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n    if (storedUsers.length > 0 && users.length === 0 && !loading) {\n      setUsers(storedUsers);\n      setLoading(false);\n    }\n  }, [users.length, loading]);\n\n  const handleAccessAdd = (userId) => {\n    // This would typically open a modal or dropdown to add access\n    console.log('Add access for user:', userId);\n  };\n\n  // Handle user details click\n  const handleUserClick = (user) => {\n    setSelectedUser(user);\n    setShowSidePanel(true);\n  };\n\n  // Handle side panel close\n  const handleCloseSidePanel = () => {\n    setShowSidePanel(false);\n    setTimeout(() => setSelectedUser(null), 300); // Delay clearing user to allow animation\n  };\n\n\n\n\n  // Function to get all access permissions for a user (role-based + custom)\n  // eslint-disable-next-line no-unused-vars\n  const getRoleBasedAccessOnly = (user) => {\n    if (user.access && user.access.length > 0) {\n      return user.access;\n    }\n    return [];\n  };\n\n  // Function to get all access permissions for a user (role-based + custom)\n  const getAllUserAccess = (user) => {\n    const allAccess = [];\n    \n    // Add role-based access\n    if (user.access && user.access.length > 0) {\n      allAccess.push(...user.access);\n    }\n    \n    // Add custom access (if different from role-based)\n    if (user.customAccess && user.customAccess.length > 0) {\n      user.customAccess.forEach(customAccess => {\n        if (!allAccess.includes(customAccess)) {\n          allAccess.push(customAccess);\n        }\n      });\n    }\n    \n    return allAccess;\n  };\n  const getAccessColor = (access) => {\n    const colors = {\n      'Data Cluster': '#8B5CF6',\n      'Data Center': '#8B5CF6',\n      'Projects': '#10B981',\n      'Finance Management': '#EF4444',\n      'Digital Media Management': '#3B82F6',\n      'Team Communication': '#F97316',\n      'Marketing': '#F59E0B',\n      'HR Management': '#EC4899',\n      'SEO Management': '#06B6D4',\n      'Settings & Configuration': '#8B5A2B',\n      'Dashboard': '#6366F1',\n      'Internal Policies': '#A78BFA'\n    };\n    return colors[access] || '#6B7280';\n  };\n  const filteredUsers = users.filter(user => \n    user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    user.role.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (loading) {\n    return (\n      <div className=\"users-roles-container\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Loading users...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"users-roles-container\">\n        <div className=\"error-container\">\n          <div className=\"error-message\">\n            <h3>Error</h3>\n            <p>{error}</p>\n            <button onClick={fetchUsers} className=\"retry-btn\">\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"users-roles-container\">\n      {/* Admin Warning for Non-Admin Users */}\n      {!finalIsAdmin && (\n        <div style={{\n          backgroundColor: '#fef3c7',\n          border: '1px solid #f59e0b',\n          borderRadius: '0.5rem',\n          padding: '1rem',\n          marginBottom: '1.5rem',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.75rem'\n        }}>\n          <div style={{ fontSize: '1.25rem' }}>⚠️</div>\n          <div>\n            <p style={{ margin: '0 0 0.25rem 0', fontWeight: '600', color: '#92400e' }}>\n              Limited Access\n            </p>\n            <p style={{ margin: '0', fontSize: '0.9rem', color: '#92400e' }}>\n              You can view user information but cannot modify roles. Only administrators can change user roles and permissions.\n            </p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"users-roles-header\">\n        <div className=\"header-content\">\n          <div className=\"header-left\">\n            <h2>Users & Roles Management</h2>\n            <p>Manage user accounts, roles, and permissions across your organization.</p>\n          </div>\n        </div>\n\n        <div className=\"table-header\">\n          <div className=\"table-header-left\">\n            <div className=\"user-count\">\n              <span className=\"count-label\">All users</span>\n              <span className=\"count-number\">{users.length}</span>\n            </div>\n          </div>\n          <div className=\"table-header-right\">\n            <div className=\"search-container\">\n              <CiSearch className=\"search-icon\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"search-input\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"users-table-container\">\n        <table className=\"users-table\">\n          <thead>\n            <tr>\n              <th className=\"checkbox-column\">\n                <input type=\"checkbox\" className=\"select-all-checkbox\" />\n              </th>\n              <th>User Details</th>\n              <th>Access</th>\n              <th>Role</th>\n              <th>Status</th>\n              <th className=\"actions-column\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredUsers.map(user => (\n              <tr key={user.id} className={user.status === 'Inactive' ? 'inactive-user' : ''}>\n                <td className=\"checkbox-column\">\n                  <input type=\"checkbox\" className=\"user-checkbox\" />\n                </td>\n                <td className=\"user-details\">\n                  <div className=\"user-info clickable-user\" onClick={() => handleUserClick(user)}>\n                    <div className=\"user-avatar\">\n                      <div className=\"avatar-icon\">👤</div>\n                    </div>\n                    <div className=\"user-text\">\n                      <div className=\"user-name\">{user.name}</div>\n                      <div className=\"user-email\">{user.email}</div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"user-access\">\n                  <div className=\"access-tags\">\n                    {getAllUserAccess(user).map((access, index) => (\n                      <span \n                        key={index} \n                        className=\"access-tag\"\n                        style={{ backgroundColor: getAccessColor(access) }}\n                      >\n                        {access}\n                      </span>\n                    ))}\n                    <button \n                      className=\"add-access-btn\"\n                      onClick={() => handleAccessAdd(user.id)}\n                    >\n                      +\n                    </button>\n                  </div>\n                </td>\n                <td className=\"user-role\">\n                  <select \n                    value={user.role} \n                    onChange={(e) => handleRoleChange(user.id, e.target.value)}\n                    className=\"role-select\"\n                    disabled={!finalIsAdmin}\n                    style={{\n                      opacity: finalIsAdmin ? 1 : 0.6,\n                      cursor: finalIsAdmin ? 'pointer' : 'not-allowed',\n                      backgroundColor: finalIsAdmin ? 'white' : '#f3f4f6'\n                    }}\n                    title={!finalIsAdmin ? 'Only administrators can change user roles' : ''}\n                  >\n                    {availableRoles.map(role => (\n                      <option key={role} value={role}>\n                        {role === 'User' ? 'User (Restricted Access)' : role}\n                      </option>\n                    ))}\n                  </select>\n                  {!finalIsAdmin && (\n                    <span style={{ \n                      fontSize: '0.75rem', \n                      color: '#6b7280', \n                      marginLeft: '0.5rem',\n                      fontStyle: 'italic'\n                    }}>\n                      Admin only\n                    </span>\n                  )}\n                </td>\n                <td className=\"user-status\">\n                  <span \n                    className={`status-badge ${user.status.toLowerCase().replace(' ', '-')}`}\n                    style={{\n                      backgroundColor: user.status === 'Active' ? '#dcfce7' : \n                                     user.status === 'Terminated' ? '#fef2f2' : \n                                     user.status === 'In Review' ? '#fef3c7' : '#f3f4f6',\n                      color: user.status === 'Active' ? '#166534' : \n                             user.status === 'Terminated' ? '#dc2626' : \n                             user.status === 'In Review' ? '#92400e' : '#6b7280',\n                      border: user.status === 'Active' ? '1px solid #bbf7d0' : \n                              user.status === 'Terminated' ? '1px solid #fecaca' : \n                              user.status === 'In Review' ? '1px solid #fde68a' : '1px solid #e5e7eb'\n                    }}\n                  >\n                    {user.status === 'Terminated' ? '❌ Terminated' : \n                     user.status === 'Active' ? 'Active' : \n                     user.status === 'In Review' ? '⏳ In Review' : user.status}\n                  </span>\n                </td>\n                <td className=\"user-actions\">\n                  <div style={{ position: 'relative', display: 'inline-block' }}>\n                    {/* 3-dot menu button */}\n                    <button\n                      onClick={() => toggleMenu(user.id)}\n                      disabled={!finalIsAdmin}\n                      style={{\n                        background: 'none',\n                        border: 'none',\n                        cursor: finalIsAdmin ? 'pointer' : 'not-allowed',\n                        padding: '0.5rem',\n                        borderRadius: '0.375rem',\n                        opacity: finalIsAdmin ? 1 : 0.5,\n                        fontSize: '1.2rem',\n                        color: '#6b7280',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        width: '2rem',\n                        height: '2rem'\n                      }}\n                      title={!finalIsAdmin ? 'Only administrators can perform actions' : 'User actions'}\n                    >\n                      <div style={{ \n                        display: 'flex', \n                        flexDirection: 'column', \n                        gap: '2px',\n                        alignItems: 'center'\n                      }}>\n                        <div style={{ \n                          width: '4px', \n                          height: '4px', \n                          backgroundColor: '#6b7280', \n                          borderRadius: '50%' \n                        }}></div>\n                        <div style={{ \n                          width: '4px', \n                          height: '4px', \n                          backgroundColor: '#6b7280', \n                          borderRadius: '50%' \n                        }}></div>\n                        <div style={{ \n                          width: '4px', \n                          height: '4px', \n                          backgroundColor: '#6b7280', \n                          borderRadius: '50%' \n                        }}></div>\n                      </div>\n                    </button>\n\n                    {/* Dropdown menu */}\n                    {openMenuId === user.id && (\n                      <div style={{\n                        position: 'absolute',\n                        top: '100%',\n                        right: '0',\n                        backgroundColor: 'white',\n                        border: '1px solid #e5e7eb',\n                        borderRadius: '0.5rem',\n                        boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\n                        zIndex: 1000,\n                        minWidth: '160px',\n                        padding: '0',\n                        overflow: 'hidden'\n                      }}>\n                        <button\n                          onClick={() => handleMenuAction(user.id, 'edit')}\n                          style={{\n                            width: '100%',\n                            padding: '0.75rem 1rem',\n                            border: 'none',\n                            background: 'white',\n                            textAlign: 'left',\n                            cursor: 'pointer',\n                            fontSize: '0.875rem',\n                            color: '#374151',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '0.75rem',\n                            borderBottom: '1px solid #f3f4f6'\n                          }}\n                          onMouseEnter={(e) => e.target.style.backgroundColor = '#f9fafb'}\n                          onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}\n                        >\n                          <FiEdit3 size={16} color=\"#374151\" />\n                          Edit Profile\n                        </button>\n                        <button\n                          onClick={() => handleMenuAction(user.id, 'view')}\n                          style={{\n                            width: '100%',\n                            padding: '0.75rem 1rem',\n                            border: 'none',\n                            background: '#f3f4f6',\n                            textAlign: 'left',\n                            cursor: 'pointer',\n                            fontSize: '0.875rem',\n                            color: '#374151',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '0.75rem',\n                            borderBottom: '1px solid #e5e7eb'\n                          }}\n                          onMouseEnter={(e) => e.target.style.backgroundColor = '#e5e7eb'}\n                          onMouseLeave={(e) => e.target.style.backgroundColor = '#f3f4f6'}\n                        >\n                          <FiEye size={16} color=\"#374151\" />\n                          View Profile\n                        </button>\n                        <button\n                          onClick={() => handleMenuAction(user.id, 'delete')}\n                          style={{\n                            width: '100%',\n                            padding: '0.75rem 1rem',\n                            border: 'none',\n                            background: '#fef2f2',\n                            textAlign: 'left',\n                            cursor: 'pointer',\n                            fontSize: '0.875rem',\n                            color: '#dc2626',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '0.75rem'\n                          }}\n                          onMouseEnter={(e) => e.target.style.backgroundColor = '#fee2e2'}\n                          onMouseLeave={(e) => e.target.style.backgroundColor = '#fef2f2'}\n                        >\n                          <FiTrash2 size={16} color=\"#dc2626\" />\n                          Delete Profile\n                  </button>\n                      </div>\n                    )}\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* User Details Side Panel */}\n      {showSidePanel && (\n        <UserDetailsSidePanel \n          user={selectedUser}\n          onClose={handleCloseSidePanel}\n          isVisible={showSidePanel}\n          onPermissionUpdate={updateUserAccessInList}\n        />\n      )}\n\n    </div>\n  );\n}\n\n// User Details Side Panel Component\nfunction UserDetailsSidePanel({ user, onClose, isVisible, onPermissionUpdate }) {\n  const { updateUserPermissions, getUserPermissions, currentUser } = useRole();\n  const [userPermissions, setUserPermissions] = useState({});\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  // Function to get access color for styling\n  const getAccessColor = (access) => {\n    const colors = {\n      'Data Cluster': '#8B5CF6',\n      'Data Center': '#8B5CF6',\n      'Projects': '#10B981',\n      'Finance Management': '#EF4444',\n      'Digital Media Management': '#3B82F6',\n      'Team Communication': '#F97316',\n      'Marketing': '#F59E0B',\n      'HR Management': '#EC4899',\n      'SEO Management': '#06B6D4',\n      'Settings & Configuration': '#8B5A2B',\n      'Dashboard': '#6366F1',\n      'Internal Policies': '#A78BFA'\n    };\n    return colors[access] || '#6B7280';\n  };\n\n  // Function to get role-based access for a user\n  const getRoleBasedAccess = (role) => {\n    const rolePermissions = DEFAULT_PERMISSIONS[role] || {};\n    const moduleToDisplayName = {\n      [MODULES.DASHBOARD]: 'Dashboard',\n      [MODULES.DATA_CENTER]: 'Data Center',\n      [MODULES.PROJECTS]: 'Projects',\n      [MODULES.DIGITAL_MEDIA]: 'Digital Media Management',\n      [MODULES.TEAM_COMMUNICATION]: 'Team Communication',\n      [MODULES.MARKETING]: 'Marketing',\n      [MODULES.HR_MANAGEMENT]: 'HR Management',\n      [MODULES.FINANCE_MANAGEMENT]: 'Finance Management',\n      [MODULES.SEO_MANAGEMENT]: 'SEO Management',\n      [MODULES.INTERNAL_POLICIES]: 'Internal Policies',\n      [MODULES.SETTINGS_CONFIG]: 'Settings & Configuration'\n    };\n    \n    return Object.keys(rolePermissions)\n      .filter(module => rolePermissions[module])\n      .map(module => moduleToDisplayName[module] || module);\n  };\n\n  useEffect(() => {\n    if (user) {\n      // Initialize permissions based on user's actual access\n      let permissions = {};\n      \n      // Create a mapping from display names to module keys\n      const displayNameToModuleKey = {\n        'Dashboard': MODULES.DASHBOARD,\n        'Data Center': MODULES.DATA_CENTER,\n        'Data Cluster': MODULES.DATA_CENTER,\n        'Projects': MODULES.PROJECTS,\n        'Digital Media Management': MODULES.DIGITAL_MEDIA,\n        'Team Communication': MODULES.TEAM_COMMUNICATION,\n        'Marketing': MODULES.MARKETING,\n        'HR Management': MODULES.HR_MANAGEMENT,\n        'Finance Management': MODULES.FINANCE_MANAGEMENT,\n        'SEO Management': MODULES.SEO_MANAGEMENT,\n        'Internal Policies': MODULES.INTERNAL_POLICIES,\n        'Settings & Configuration': MODULES.SETTINGS_CONFIG\n      };      if (user.customAccess && user.customAccess.length > 0) {\n        user.customAccess.forEach(access => {\n          const moduleKey = displayNameToModuleKey[access] || access;\n          permissions[moduleKey] = true;\n        });\n      } else if (user.access && user.access.length > 0) {\n        // Use user.access array and map display names to module keys\n        user.access.forEach(access => {\n          const moduleKey = displayNameToModuleKey[access] || access;\n          permissions[moduleKey] = true;\n        });\n      } else {\n        // Fallback to backend permissions\n        permissions = getUserPermissions(user.id);\n      }      \n      setUserPermissions(permissions);\n      console.log(\"User permissions loaded:\", permissions);\n      console.log(\"Display name to module key mapping:\", displayNameToModuleKey);      console.log(\"User access array:\", user.access);\n      console.log(\"User access array mapped to permissions:\", Object.keys(permissions));      console.log(\"User custom access:\", user.customAccess);\n      const isCurrentUserAdmin = currentUser?.role === 'Admin';\n      setIsAdmin(isCurrentUserAdmin);\n      console.log('Current user role:', currentUser?.role);\n      console.log('Is admin:', isCurrentUserAdmin);\n    }\n  }, [user, getUserPermissions, currentUser]);\n\n  if (!user) return null;\n\n  // Mock additional user data - in real app this would come from API\n  const userDetails = {\n    ...user,\n    currentProjects: 5,\n    totalProjects: 21,\n    joinDate: '10 - 04 - 2024',\n    phone: '+91 9098989281',\n    location: 'Coffee Estate Homestay, Mullayanagiri Road, Kaimara, Chikmagalur, Karnataka - 577101, India',\n    languages: ['English', 'Hindi'],\n    maritalStatus: 'Single',\n    employmentId: '0020192',\n    responseTime: '24m'\n  };\n\n  const getModuleDisplayName = (module) => {\n    const displayNames = {\n      [MODULES.DASHBOARD]: 'Dashboard',\n      [MODULES.DATA_CENTER]: 'Data Center',\n      [MODULES.PROJECTS]: 'Projects',\n      [MODULES.DIGITAL_MEDIA]: 'Digital Media Management',\n      [MODULES.TEAM_COMMUNICATION]: 'Team Communication',\n      [MODULES.MARKETING]: 'Marketing',\n      [MODULES.HR_MANAGEMENT]: 'HR Management',\n      [MODULES.FINANCE_MANAGEMENT]: 'Finance Management',\n      [MODULES.SEO_MANAGEMENT]: 'SEO Management',\n      [MODULES.INTERNAL_POLICIES]: 'Internal Policies',\n      [MODULES.SETTINGS_CONFIG]: 'Settings & Configuration'\n    };\n    return displayNames[module] || module;\n  };\n\n  const handlePermissionChange = async (module, value) => {\n    if (!isAdmin) return;\n    \n    // Update local state immediately for live UI updates\n    const updatedPermissions = {\n      ...userPermissions,\n      [module]: value\n    };\n    setUserPermissions(updatedPermissions);    \n    try {\n      const result = await updateUserPermissions(user.id, { [module]: value });\n      \n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        const updatedPermissions = {\n          ...userPermissions,\n          [module]: value\n        };\n        setUserPermissions(updatedPermissions);\n        toast.success(`Permission ${value ? 'granted' : 'revoked'} for ${getModuleDisplayName(module)}`);\n        \n        // Refresh the permissions to ensure UI is in sync with backend\n        const refreshedPermissions = getUserPermissions(user.id);\n        setUserPermissions(refreshedPermissions);\n        \n        // Notify parent component to refresh users list\n        if (onPermissionUpdate) {\n          onPermissionUpdate(user.id, module, value);\n        }\n      } else {\n        console.error('Failed to update permissions:', result.error);\n        toast.error(`Failed to update permissions: ${result.error}`);\n        \n        // Revert the checkbox state on error\n        const currentPermissions = getUserPermissions(user.id);\n        setUserPermissions(currentPermissions);\n      }\n    } catch (error) {\n      console.error('Error updating permissions:', error);\n      toast.error('Failed to update permissions: ' + error.message);\n      \n      // Revert the checkbox state on error\n      const currentPermissions = getUserPermissions(user.id);\n      setUserPermissions(currentPermissions);\n    }\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className={`side-panel-overlay ${isVisible ? 'visible' : ''}`}\n        onClick={onClose}\n      />\n      \n      {/* Side Panel */}\n      <div className={`user-details-side-panel ${isVisible ? 'visible' : ''}`}>\n        {/* Header */}\n        <div className=\"side-panel-header\">\n          <h3>User Preview</h3>\n          <button className=\"close-btn\" onClick={onClose}>✕</button>\n        </div>\n\n        {/* User Info */}\n        <div className=\"side-panel-content\">\n          <div className=\"user-profile-section\">\n            <div className=\"user-avatar-large\">\n              <div className=\"avatar-icon-large\">👤</div>\n            </div>\n            <div className=\"user-info-text\">\n              <h2>{userDetails.name}</h2>\n              <div className=\"user-status-indicator\">\n                <span className=\"status-dot-green\"></span>\n                <span className=\"status-text\">Online</span>\n              </div>\n              <p className=\"user-email-large\">{userDetails.email}</p>\n            </div>\n          </div>\n\n          {/* Project Stats */}\n          <div className=\"project-stats\">\n            <div className=\"stat-item\">\n              <div className=\"stat-label\">Currently</div>\n              <div className=\"stat-value\">{userDetails.currentProjects}</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-label\">Total Projects</div>\n              <div className=\"stat-value\">{userDetails.totalProjects}</div>\n            </div>\n          </div>\n\n          {/* User Details Section */}\n          <div className=\"details-section\">\n            <h4>User Details</h4>\n            <div className=\"detail-grid-two-column\">\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">E-mail</span>\n                  <span className=\"detail-value\">{userDetails.email}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Join Date</span>\n                  <span className=\"detail-value blue-text\">{userDetails.joinDate}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Phone No.</span>\n                  <span className=\"detail-value blue-text\">{userDetails.phone}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Designation</span>\n                  <span className=\"detail-value\">{userDetails.role}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Location</span>\n                  <span className=\"detail-value\">{userDetails.location}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Employment ID</span>\n                  <span className=\"detail-value\">{userDetails.employmentId}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Language Spoken</span>\n                  <span className=\"detail-value\">{userDetails.languages.join(', ')}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Status</span>\n                  <span className=\"detail-value\">{userDetails.status}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Marital Status</span>\n                  <span className=\"detail-value\">{userDetails.maritalStatus}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Response Time</span>\n                  <span className=\"detail-value\">{userDetails.responseTime}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Role-Based Access Section */}\n          <div className=\"role-access-section\" style={{ marginBottom: '20px' }}>\n            <h4>Role-Based Access</h4>\n            <div className=\"role-access-tags\" style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n              {getRoleBasedAccess(userDetails.role).map((access, index) => (\n                <span \n                  key={index}\n                  className=\"access-tag\"\n                  style={{ \n                    backgroundColor: getAccessColor(access),\n                    color: 'white',\n                    padding: '4px 8px',\n                    borderRadius: '4px',\n                    fontSize: '12px',\n                    fontWeight: '500'\n                  }}\n                >\n                  {access}\n                </span>\n              ))}\n              {getRoleBasedAccess(userDetails.role).length === 0 && (\n                <span style={{ fontSize: '12px', color: '#9CA3AF', fontStyle: 'italic' }}>\n                  No role-based access defined\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Permissions Section */}\n          <div className=\"permissions-section\">\n            <h4>Permission {isAdmin && <span style={{fontSize: '12px', color: '#6B7280', fontWeight: 'normal'}}>(Click to modify)</span>}</h4>\n            <div className=\"permissions-grid-two-column\">\n              <div className=\"permission-column\">\n                {Object.entries(MODULES).slice(0, Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => (\n                  <div key={module} className=\"permission-item\">\n                    <input \n                      type=\"checkbox\" \n                      id={module}\n                      checked={userPermissions[module] || false}\n                      onChange={(e) => handlePermissionChange(module, e.target.checked)}\n                      disabled={!isAdmin}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    />\n                    <label \n                      htmlFor={module}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    >\n                      {getModuleDisplayName(module)}\n                    </label>\n                  </div>\n                ))}\n              </div>\n              <div className=\"permission-column\">\n                {Object.entries(MODULES).slice(Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => (\n                  <div key={module} className=\"permission-item\">\n                    <input \n                      type=\"checkbox\" \n                      id={module}\n                      checked={userPermissions[module] || false}\n                      onChange={(e) => handlePermissionChange(module, e.target.checked)}\n                      disabled={!isAdmin}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    />\n                    <label \n                      htmlFor={module}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    >\n                      {getModuleDisplayName(module)}\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </div>\n            {!isAdmin && (\n              <p style={{ fontSize: '12px', color: '#9CA3AF', marginTop: '12px', fontStyle: 'italic' }}>\n                Only administrators can modify permissions\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default UsersRoles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}