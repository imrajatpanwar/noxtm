{"ast":null,"code":"var _jsxFileName = \"/Users/aaravpanwar/noxtmstudio/Frontend/src/components/UsersRoles.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { CiSearch } from 'react-icons/ci';\nimport { FiEdit3, FiEye, FiTrash2 } from 'react-icons/fi';\nimport { toast } from 'sonner';\nimport api from '../config/api';\nimport { useRole, MODULES } from '../contexts/RoleContext';\nimport './UsersRoles.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UsersRoles() {\n  _s();\n  const {\n    users: contextUsers,\n    setUsers: setContextUsers,\n    updateUserRole,\n    currentUser\n  } = useRole();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [showSidePanel, setShowSidePanel] = useState(false);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Check if current user is admin\n  const isCurrentUserAdmin = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'Admin';\n\n  // Debug logging\n  console.log('Current user from context:', currentUser);\n  console.log('Is current user admin:', isCurrentUserAdmin);\n\n  // Fallback: Check localStorage if context user is not available\n  const localStorageUser = JSON.parse(localStorage.getItem('user') || '{}');\n  const isAdminFromLocalStorage = (localStorageUser === null || localStorageUser === void 0 ? void 0 : localStorageUser.role) === 'Admin';\n  console.log('User from localStorage:', localStorageUser);\n  console.log('Is admin from localStorage:', isAdminFromLocalStorage);\n\n  // Use either context user or localStorage user for admin check\n  const finalIsAdmin = isCurrentUserAdmin || isAdminFromLocalStorage;\n\n  // Fetch available roles from backend\n  const fetchRoles = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        // Fallback to hardcoded roles if no token\n        const fallbackRoles = ['User', 'Admin', 'Project Manager', 'Data Miner', 'Data Analyst', 'Social Media Manager', 'Human Resource', 'Graphic Designer', 'Web Developer', 'SEO Manager'];\n        setAvailableRoles(fallbackRoles);\n        return;\n      }\n      const response = await api.get('/roles');\n      console.log('Fetched roles from backend:', response.data.roles);\n      setAvailableRoles(response.data.roles || []);\n    } catch (error) {\n      console.error('Error fetching roles:', error);\n      // Fallback to hardcoded roles on error\n      const fallbackRoles = ['User', 'Admin', 'Project Manager', 'Data Miner', 'Data Analyst', 'Social Media Manager', 'Human Resource', 'Graphic Designer', 'Web Developer', 'SEO Manager'];\n      setAvailableRoles(fallbackRoles);\n    }\n  }, []);\n\n  // Fetch users from backend\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        // Use demo data if no token\n        console.log('No token found, using demo data');\n        const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n        if (demoUsers.length > 0) {\n          setUsers(demoUsers);\n        }\n        setLoading(false);\n        return;\n      }\n      const response = await api.get('/users');\n\n      // Transform backend data to match frontend format\n      const transformedUsers = response.data.users.map(user => ({\n        id: user._id,\n        name: user.username,\n        email: user.email,\n        role: user.role,\n        status: user.status,\n        access: user.access || []\n      }));\n      setUsers(transformedUsers);\n      setContextUsers(transformedUsers); // Update context as well\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      // Fall back to demo data on error\n      const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n      if (demoUsers.length > 0) {\n        setUsers(demoUsers);\n        setError(null); // Clear error if we have demo data\n        console.log('Using demo data due to API error');\n      } else {\n        var _error$response, _error$response$data;\n        setError('Failed to fetch users: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [setContextUsers]);\n\n  // Update user role\n  const handleRoleChange = async (userId, newRole) => {\n    console.log('handleRoleChange called:', {\n      userId,\n      newRole,\n      finalIsAdmin\n    });\n\n    // Check if current user is admin\n    if (!finalIsAdmin) {\n      toast.error('Only administrators can change user roles');\n      return;\n    }\n    try {\n      setError(null); // Clear any previous errors\n\n      // Set status based on role: User = \"In Review\", any other role = \"Active\"\n      const newStatus = newRole === 'User' ? 'In Review' : 'Active';\n      console.log('Setting new status:', newStatus);\n      const result = await updateUserRole(userId, newRole, newStatus);\n      console.log('updateUserRole result:', result);\n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        setUsers(users.map(user => user.id === userId ? {\n          ...user,\n          role: newRole,\n          status: newStatus\n        } : user));\n        toast.success(`User role updated to ${newRole} and status set to ${newStatus}`);\n      } else {\n        setError(`Failed to update user role: ${result.error}`);\n        toast.error(`Failed to update user role: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error updating user role:', error);\n      setError('Failed to update user role: ' + error.message);\n      toast.error('Failed to update user role: ' + error.message);\n    }\n  };\n\n  // Toggle menu visibility\n  const toggleMenu = userId => {\n    setOpenMenuId(openMenuId === userId ? null : userId);\n  };\n\n  // Close menu when clicking outside\n  const closeMenu = () => {\n    setOpenMenuId(null);\n  };\n\n  // Handle menu actions\n  const handleMenuAction = async (userId, action) => {\n    // Close menu\n    setOpenMenuId(null);\n    try {\n      setError(null); // Clear any previous errors\n\n      if (action === 'edit') {\n        // Check if current user is admin for edit action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can edit user profiles');\n          return;\n        }\n        // Open edit panel or navigate to edit page\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Edit user panel opened');\n      } else if (action === 'view') {\n        // View profile - no admin check needed\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Viewing user profile');\n      } else if (action === 'delete') {\n        // Check if current user is admin for delete action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can delete users');\n          return;\n        }\n        // Confirm deletion\n        if (window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\n          const response = await api.delete(`/users/${userId}`);\n          if (response.status === 200) {\n            // Remove user from local state\n            setUsers(users.filter(user => user.id !== userId));\n            toast.success('User deleted successfully');\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error performing user action:', error);\n      setError('Failed to perform action: ' + error.message);\n      toast.error('Failed to perform action: ' + error.message);\n    }\n  };\n\n  // Load users and roles on component mount\n  useEffect(() => {\n    if (user) {\n      // Initialize permissions based on user's current access\n      let permissions = {};\n\n      // If user has custom access, use that\n      if (user.customAccess && user.customAccess.length > 0) {\n        user.customAccess.forEach(access => {\n          permissions[access] = true;\n        });\n      } else {\n        // Otherwise, get permissions from the backend or use user.access\n        const backendPermissions = getUserPermissions(user.id);\n        if (backendPermissions && Object.keys(backendPermissions).length > 0) {\n          permissions = backendPermissions;\n        } else if (user.access && user.access.length > 0) {\n          // Fallback to user.access array\n          user.access.forEach(access => {\n            permissions[access] = true;\n          });\n        }\n      }\n      setUserPermissions(permissions);\n      const isCurrentUserAdmin = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'Admin';\n      setIsAdmin(isCurrentUserAdmin);\n      console.log('Current user role:', currentUser === null || currentUser === void 0 ? void 0 : currentUser.role);\n      console.log('Is admin:', isCurrentUserAdmin);\n      console.log('User permissions initialized:', permissions);\n    }\n  }, [user, getUserPermissions, currentUser]);\n  if (!user) return null;\n\n  // Mock additional user data - in real app this would come from API\n  const userDetails = {\n    ...user,\n    currentProjects: 5,\n    totalProjects: 21,\n    joinDate: '10 - 04 - 2024',\n    phone: '+91 9098989281',\n    location: 'Coffee Estate Homestay, Mullayanagiri Road, Kaimara, Chikmagalur, Karnataka - 577101, India',\n    languages: ['English', 'Hindi'],\n    maritalStatus: 'Single',\n    employmentId: '0020192',\n    responseTime: '24m'\n  };\n  const getModuleDisplayName = module => {\n    const displayNames = {\n      [MODULES.DASHBOARD]: 'Dashboard',\n      [MODULES.DATA_CENTER]: 'Data Center',\n      [MODULES.PROJECTS]: 'Projects',\n      [MODULES.DIGITAL_MEDIA]: 'Digital Media Management',\n      [MODULES.MARKETING]: 'Marketing',\n      [MODULES.HR_MANAGEMENT]: 'HR Management',\n      [MODULES.FINANCE_MANAGEMENT]: 'Finance Management',\n      [MODULES.SEO_MANAGEMENT]: 'SEO Management',\n      [MODULES.INTERNAL_POLICIES]: 'Internal Policies',\n      [MODULES.SETTINGS_CONFIG]: 'Settings & Configuration'\n    };\n    return displayNames[module] || module;\n  };\n  const handlePermissionChange = async (module, value) => {\n    if (!isAdmin) return;\n    try {\n      const result = await updateUserPermissions(user.id, {\n        [module]: value\n      });\n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        const updatedPermissions = {\n          ...userPermissions,\n          [module]: value\n        };\n        setUserPermissions(updatedPermissions);\n        toast.success(`Permission ${value ? 'granted' : 'revoked'} for ${getModuleDisplayName(module)}`);\n\n        // Refresh the permissions to ensure UI is in sync with backend\n        const refreshedPermissions = getUserPermissions(user.id);\n        setUserPermissions(refreshedPermissions);\n\n        // Notify parent component to refresh users list\n        if (onPermissionUpdate) {\n          onPermissionUpdate();\n        }\n      } else {\n        console.error('Failed to update permissions:', result.error);\n        toast.error(`Failed to update permissions: ${result.error}`);\n\n        // Revert the checkbox state on error\n        const currentPermissions = getUserPermissions(user.id);\n        setUserPermissions(currentPermissions);\n      }\n    } catch (error) {\n      console.error('Error updating permissions:', error);\n      toast.error('Failed to update permissions: ' + error.message);\n\n      // Revert the checkbox state on error\n      const currentPermissions = getUserPermissions(user.id);\n      setUserPermissions(currentPermissions);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `side-panel-overlay ${isVisible ? 'visible' : ''}`,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `user-details-side-panel ${isVisible ? 'visible' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-panel-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"User Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-profile-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar-large\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"avatar-icon-large\",\n              children: \"\\uD83D\\uDC64\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: userDetails.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-status-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-dot-green\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-text\",\n                children: \"Online\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"user-email-large\",\n              children: userDetails.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Currently\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: userDetails.currentProjects\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"Total Projects\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: userDetails.totalProjects\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"User Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-grid-two-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"E-mail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Join Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value blue-text\",\n                  children: userDetails.joinDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Phone No.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value blue-text\",\n                  children: userDetails.phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Designation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Employment ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.employmentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Language Spoken\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.languages.join(', ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Marital Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.maritalStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-item-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Response Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: userDetails.responseTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"permissions-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Permission \", isAdmin && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '12px',\n                color: '#6B7280',\n                fontWeight: 'normal'\n              },\n              children: \"(Click to modify)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"permissions-grid-two-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"permission-column\",\n              children: Object.entries(MODULES).slice(0, Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"permission-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: module,\n                  checked: userPermissions[module] || false,\n                  onChange: e => handlePermissionChange(module, e.target.checked),\n                  disabled: !isAdmin,\n                  style: {\n                    cursor: isAdmin ? 'pointer' : 'default'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: module,\n                  style: {\n                    cursor: isAdmin ? 'pointer' : 'default'\n                  },\n                  children: getModuleDisplayName(module)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, module, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"permission-column\",\n              children: Object.entries(MODULES).slice(Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"permission-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: module,\n                  checked: userPermissions[module] || false,\n                  onChange: e => handlePermissionChange(module, e.target.checked),\n                  disabled: !isAdmin,\n                  style: {\n                    cursor: isAdmin ? 'pointer' : 'default'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: module,\n                  style: {\n                    cursor: isAdmin ? 'pointer' : 'default'\n                  },\n                  children: getModuleDisplayName(module)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)]\n              }, module, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), !isAdmin && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '12px',\n              color: '#9CA3AF',\n              marginTop: '12px',\n              fontStyle: 'italic'\n            },\n            children: \"Only administrators can modify permissions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(UsersRoles, \"bpTZtGiCxQGjewQ41tPDayACYaY=\", false, function () {\n  return [useRole];\n});\n_c = UsersRoles;\nexport default UsersRoles;\nvar _c;\n$RefreshReg$(_c, \"UsersRoles\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","CiSearch","FiEdit3","FiEye","FiTrash2","toast","api","useRole","MODULES","jsxDEV","_jsxDEV","Fragment","_Fragment","UsersRoles","_s","users","contextUsers","setUsers","setContextUsers","updateUserRole","currentUser","loading","setLoading","error","setError","searchTerm","setSearchTerm","selectedUser","setSelectedUser","showSidePanel","setShowSidePanel","availableRoles","setAvailableRoles","openMenuId","setOpenMenuId","isCurrentUserAdmin","role","console","log","localStorageUser","JSON","parse","localStorage","getItem","isAdminFromLocalStorage","finalIsAdmin","fetchRoles","token","fallbackRoles","response","get","data","roles","fetchUsers","demoUsers","length","transformedUsers","map","user","id","_id","name","username","email","status","access","_error$response","_error$response$data","message","handleRoleChange","userId","newRole","newStatus","result","success","toggleMenu","closeMenu","handleMenuAction","action","find","info","window","confirm","delete","filter","permissions","customAccess","forEach","backendPermissions","getUserPermissions","Object","keys","setUserPermissions","setIsAdmin","userDetails","currentProjects","totalProjects","joinDate","phone","location","languages","maritalStatus","employmentId","responseTime","getModuleDisplayName","module","displayNames","DASHBOARD","DATA_CENTER","PROJECTS","DIGITAL_MEDIA","MARKETING","HR_MANAGEMENT","FINANCE_MANAGEMENT","SEO_MANAGEMENT","INTERNAL_POLICIES","SETTINGS_CONFIG","handlePermissionChange","value","isAdmin","updateUserPermissions","updatedPermissions","userPermissions","refreshedPermissions","onPermissionUpdate","currentPermissions","children","className","isVisible","onClick","onClose","fileName","_jsxFileName","lineNumber","columnNumber","join","style","fontSize","color","fontWeight","entries","slice","Math","ceil","key","type","checked","onChange","e","target","disabled","cursor","htmlFor","marginTop","fontStyle","_c","$RefreshReg$"],"sources":["/Users/aaravpanwar/noxtmstudio/Frontend/src/components/UsersRoles.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { CiSearch } from 'react-icons/ci';\nimport { FiEdit3, FiEye, FiTrash2 } from 'react-icons/fi';\nimport { toast } from 'sonner';\nimport api from '../config/api';\nimport { useRole, MODULES } from '../contexts/RoleContext';\nimport './UsersRoles.css';\n\nfunction UsersRoles() {\n  const { \n    users: contextUsers, \n    setUsers: setContextUsers, \n    updateUserRole,\n    currentUser\n  } = useRole();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [showSidePanel, setShowSidePanel] = useState(false);\n  const [availableRoles, setAvailableRoles] = useState([]);\n  const [openMenuId, setOpenMenuId] = useState(null);\n\n  // Check if current user is admin\n  const isCurrentUserAdmin = currentUser?.role === 'Admin';\n  \n  // Debug logging\n  console.log('Current user from context:', currentUser);\n  console.log('Is current user admin:', isCurrentUserAdmin);\n  \n  // Fallback: Check localStorage if context user is not available\n  const localStorageUser = JSON.parse(localStorage.getItem('user') || '{}');\n  const isAdminFromLocalStorage = localStorageUser?.role === 'Admin';\n  console.log('User from localStorage:', localStorageUser);\n  console.log('Is admin from localStorage:', isAdminFromLocalStorage);\n  \n  // Use either context user or localStorage user for admin check\n  const finalIsAdmin = isCurrentUserAdmin || isAdminFromLocalStorage;\n\n  // Fetch available roles from backend\n  const fetchRoles = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        // Fallback to hardcoded roles if no token\n        const fallbackRoles = [\n          'User',\n          'Admin',\n          'Project Manager', \n          'Data Miner',\n          'Data Analyst',\n          'Social Media Manager',\n          'Human Resource',\n          'Graphic Designer',\n          'Web Developer',\n          'SEO Manager'\n        ];\n        setAvailableRoles(fallbackRoles);\n        return;\n      }\n\n      const response = await api.get('/roles');\n      console.log('Fetched roles from backend:', response.data.roles);\n      setAvailableRoles(response.data.roles || []);\n    } catch (error) {\n      console.error('Error fetching roles:', error);\n      // Fallback to hardcoded roles on error\n      const fallbackRoles = [\n        'User',\n    'Admin',\n    'Project Manager', \n    'Data Miner',\n    'Data Analyst',\n    'Social Media Manager',\n    'Human Resource',\n    'Graphic Designer',\n    'Web Developer',\n    'SEO Manager'\n  ];\n      setAvailableRoles(fallbackRoles);\n    }\n  }, []);\n\n  // Fetch users from backend\n  const fetchUsers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        // Use demo data if no token\n        console.log('No token found, using demo data');\n        const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n        if (demoUsers.length > 0) {\n          setUsers(demoUsers);\n        }\n        setLoading(false);\n        return;\n      }\n\n      const response = await api.get('/users');\n\n      // Transform backend data to match frontend format\n      const transformedUsers = response.data.users.map(user => ({\n        id: user._id,\n        name: user.username,\n        email: user.email,\n        role: user.role,\n        status: user.status,\n        access: user.access || []\n      }));\n\n      setUsers(transformedUsers);\n      setContextUsers(transformedUsers); // Update context as well\n      setError(null);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n      // Fall back to demo data on error\n      const demoUsers = JSON.parse(localStorage.getItem('usersData') || '[]');\n      if (demoUsers.length > 0) {\n        setUsers(demoUsers);\n        setError(null); // Clear error if we have demo data\n        console.log('Using demo data due to API error');\n      } else {\n        setError('Failed to fetch users: ' + (error.response?.data?.message || error.message));\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [setContextUsers]);\n\n  // Update user role\n  const handleRoleChange = async (userId, newRole) => {\n    console.log('handleRoleChange called:', { userId, newRole, finalIsAdmin });\n    \n    // Check if current user is admin\n    if (!finalIsAdmin) {\n      toast.error('Only administrators can change user roles');\n      return;\n    }\n\n    try {\n      setError(null); // Clear any previous errors\n      \n      // Set status based on role: User = \"In Review\", any other role = \"Active\"\n      const newStatus = newRole === 'User' ? 'In Review' : 'Active';\n      console.log('Setting new status:', newStatus);\n      \n      const result = await updateUserRole(userId, newRole, newStatus);\n      console.log('updateUserRole result:', result);\n      \n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        setUsers(users.map(user => \n          user.id === userId ? { \n            ...user, \n            role: newRole,\n            status: newStatus\n          } : user\n        ));\n        \n        toast.success(`User role updated to ${newRole} and status set to ${newStatus}`);\n      } else {\n        setError(`Failed to update user role: ${result.error}`);\n        toast.error(`Failed to update user role: ${result.error}`);\n      }\n    } catch (error) {\n      console.error('Error updating user role:', error);\n      setError('Failed to update user role: ' + error.message);\n      toast.error('Failed to update user role: ' + error.message);\n    }\n  };\n\n\n  // Toggle menu visibility\n  const toggleMenu = (userId) => {\n    setOpenMenuId(openMenuId === userId ? null : userId);\n  };\n\n  // Close menu when clicking outside\n  const closeMenu = () => {\n    setOpenMenuId(null);\n  };\n\n  // Handle menu actions\n  const handleMenuAction = async (userId, action) => {\n    // Close menu\n    setOpenMenuId(null);\n\n    try {\n      setError(null); // Clear any previous errors\n      \n      if (action === 'edit') {\n        // Check if current user is admin for edit action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can edit user profiles');\n          return;\n        }\n        // Open edit panel or navigate to edit page\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Edit user panel opened');\n      } else if (action === 'view') {\n        // View profile - no admin check needed\n        setSelectedUser(users.find(user => user.id === userId));\n        setShowSidePanel(true);\n        toast.info('Viewing user profile');\n      } else if (action === 'delete') {\n        // Check if current user is admin for delete action\n        if (!finalIsAdmin) {\n          toast.error('Only administrators can delete users');\n          return;\n        }\n        // Confirm deletion\n        if (window.confirm('Are you sure you want to delete this user? This action cannot be undone.')) {\n          const response = await api.delete(`/users/${userId}`);\n          if (response.status === 200) {\n            // Remove user from local state\n            setUsers(users.filter(user => user.id !== userId));\n            toast.success('User deleted successfully');\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error performing user action:', error);\n      setError('Failed to perform action: ' + error.message);\n      toast.error('Failed to perform action: ' + error.message);\n    }\n  };\n\n  // Load users and roles on component mount\n  useEffect(() => {\n    if (user) {\n      // Initialize permissions based on user's current access\n      let permissions = {};\n      \n      // If user has custom access, use that\n      if (user.customAccess && user.customAccess.length > 0) {\n        user.customAccess.forEach(access => {\n          permissions[access] = true;\n        });\n      } else {\n        // Otherwise, get permissions from the backend or use user.access\n        const backendPermissions = getUserPermissions(user.id);\n        if (backendPermissions && Object.keys(backendPermissions).length > 0) {\n          permissions = backendPermissions;\n        } else if (user.access && user.access.length > 0) {\n          // Fallback to user.access array\n          user.access.forEach(access => {\n            permissions[access] = true;\n          });\n        }\n      }\n      \n      setUserPermissions(permissions);\n      const isCurrentUserAdmin = currentUser?.role === 'Admin';\n      setIsAdmin(isCurrentUserAdmin);\n      console.log('Current user role:', currentUser?.role);\n      console.log('Is admin:', isCurrentUserAdmin);\n      console.log('User permissions initialized:', permissions);\n    }\n  }, [user, getUserPermissions, currentUser]);\n  if (!user) return null;\n\n  // Mock additional user data - in real app this would come from API\n  const userDetails = {\n    ...user,\n    currentProjects: 5,\n    totalProjects: 21,\n    joinDate: '10 - 04 - 2024',\n    phone: '+91 9098989281',\n    location: 'Coffee Estate Homestay, Mullayanagiri Road, Kaimara, Chikmagalur, Karnataka - 577101, India',\n    languages: ['English', 'Hindi'],\n    maritalStatus: 'Single',\n    employmentId: '0020192',\n    responseTime: '24m'\n  };\n\n  const getModuleDisplayName = (module) => {\n    const displayNames = {\n      [MODULES.DASHBOARD]: 'Dashboard',\n      [MODULES.DATA_CENTER]: 'Data Center',\n      [MODULES.PROJECTS]: 'Projects',\n      [MODULES.DIGITAL_MEDIA]: 'Digital Media Management',\n      [MODULES.MARKETING]: 'Marketing',\n      [MODULES.HR_MANAGEMENT]: 'HR Management',\n      [MODULES.FINANCE_MANAGEMENT]: 'Finance Management',\n      [MODULES.SEO_MANAGEMENT]: 'SEO Management',\n      [MODULES.INTERNAL_POLICIES]: 'Internal Policies',\n      [MODULES.SETTINGS_CONFIG]: 'Settings & Configuration'\n    };\n    return displayNames[module] || module;\n  };\n\n  const handlePermissionChange = async (module, value) => {\n    if (!isAdmin) return;\n    \n    try {\n      const result = await updateUserPermissions(user.id, { [module]: value });\n      \n      if (result.success) {\n        // Update local state immediately for UI responsiveness\n        const updatedPermissions = {\n          ...userPermissions,\n          [module]: value\n        };\n        setUserPermissions(updatedPermissions);\n        toast.success(`Permission ${value ? 'granted' : 'revoked'} for ${getModuleDisplayName(module)}`);\n        \n        // Refresh the permissions to ensure UI is in sync with backend\n        const refreshedPermissions = getUserPermissions(user.id);\n        setUserPermissions(refreshedPermissions);\n        \n        // Notify parent component to refresh users list\n        if (onPermissionUpdate) {\n          onPermissionUpdate();\n        }\n      } else {\n        console.error('Failed to update permissions:', result.error);\n        toast.error(`Failed to update permissions: ${result.error}`);\n        \n        // Revert the checkbox state on error\n        const currentPermissions = getUserPermissions(user.id);\n        setUserPermissions(currentPermissions);\n      }\n    } catch (error) {\n      console.error('Error updating permissions:', error);\n      toast.error('Failed to update permissions: ' + error.message);\n      \n      // Revert the checkbox state on error\n      const currentPermissions = getUserPermissions(user.id);\n      setUserPermissions(currentPermissions);\n    }\n  };\n\n  return (\n    <>\n      {/* Overlay */}\n      <div \n        className={`side-panel-overlay ${isVisible ? 'visible' : ''}`}\n        onClick={onClose}\n      />\n      \n      {/* Side Panel */}\n      <div className={`user-details-side-panel ${isVisible ? 'visible' : ''}`}>\n        {/* Header */}\n        <div className=\"side-panel-header\">\n          <h3>User Preview</h3>\n          <button className=\"close-btn\" onClick={onClose}>✕</button>\n        </div>\n\n        {/* User Info */}\n        <div className=\"side-panel-content\">\n          <div className=\"user-profile-section\">\n            <div className=\"user-avatar-large\">\n              <div className=\"avatar-icon-large\">👤</div>\n            </div>\n            <div className=\"user-info-text\">\n              <h2>{userDetails.name}</h2>\n              <div className=\"user-status-indicator\">\n                <span className=\"status-dot-green\"></span>\n                <span className=\"status-text\">Online</span>\n              </div>\n              <p className=\"user-email-large\">{userDetails.email}</p>\n            </div>\n          </div>\n\n          {/* Project Stats */}\n          <div className=\"project-stats\">\n            <div className=\"stat-item\">\n              <div className=\"stat-label\">Currently</div>\n              <div className=\"stat-value\">{userDetails.currentProjects}</div>\n            </div>\n            <div className=\"stat-item\">\n              <div className=\"stat-label\">Total Projects</div>\n              <div className=\"stat-value\">{userDetails.totalProjects}</div>\n            </div>\n          </div>\n\n          {/* User Details Section */}\n          <div className=\"details-section\">\n            <h4>User Details</h4>\n            <div className=\"detail-grid-two-column\">\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">E-mail</span>\n                  <span className=\"detail-value\">{userDetails.email}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Join Date</span>\n                  <span className=\"detail-value blue-text\">{userDetails.joinDate}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Phone No.</span>\n                  <span className=\"detail-value blue-text\">{userDetails.phone}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Designation</span>\n                  <span className=\"detail-value\">{userDetails.role}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Location</span>\n                  <span className=\"detail-value\">{userDetails.location}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Employment ID</span>\n                  <span className=\"detail-value\">{userDetails.employmentId}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Language Spoken</span>\n                  <span className=\"detail-value\">{userDetails.languages.join(', ')}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Status</span>\n                  <span className=\"detail-value\">{userDetails.status}</span>\n                </div>\n              </div>\n              <div className=\"detail-row\">\n                <div className=\"detail-item-left\">\n                  <span className=\"detail-label\">Marital Status</span>\n                  <span className=\"detail-value\">{userDetails.maritalStatus}</span>\n                </div>\n                <div className=\"detail-item-right\">\n                  <span className=\"detail-label\">Response Time</span>\n                  <span className=\"detail-value\">{userDetails.responseTime}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Permissions Section */}\n          <div className=\"permissions-section\">\n            <h4>Permission {isAdmin && <span style={{fontSize: '12px', color: '#6B7280', fontWeight: 'normal'}}>(Click to modify)</span>}</h4>\n            <div className=\"permissions-grid-two-column\">\n              <div className=\"permission-column\">\n                {Object.entries(MODULES).slice(0, Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => (\n                  <div key={module} className=\"permission-item\">\n                    <input \n                      type=\"checkbox\" \n                      id={module}\n                      checked={userPermissions[module] || false}\n                      onChange={(e) => handlePermissionChange(module, e.target.checked)}\n                      disabled={!isAdmin}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    />\n                    <label \n                      htmlFor={module}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    >\n                      {getModuleDisplayName(module)}\n                    </label>\n                  </div>\n                ))}\n              </div>\n              <div className=\"permission-column\">\n                {Object.entries(MODULES).slice(Math.ceil(Object.entries(MODULES).length / 2)).map(([key, module]) => (\n                  <div key={module} className=\"permission-item\">\n                    <input \n                      type=\"checkbox\" \n                      id={module}\n                      checked={userPermissions[module] || false}\n                      onChange={(e) => handlePermissionChange(module, e.target.checked)}\n                      disabled={!isAdmin}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    />\n                    <label \n                      htmlFor={module}\n                      style={{ cursor: isAdmin ? 'pointer' : 'default' }}\n                    >\n                      {getModuleDisplayName(module)}\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </div>\n            {!isAdmin && (\n              <p style={{ fontSize: '12px', color: '#9CA3AF', marginTop: '12px', fontStyle: 'italic' }}>\n                Only administrators can modify permissions\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default UsersRoles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}